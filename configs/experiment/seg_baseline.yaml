# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /data: seg.yaml
  - override /model: seg.yaml
  - override /callbacks: default.yaml
  - override /trainer: gpu.yaml
  # - override /logger: wandb.yaml

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["seg", "pointNeXt"]

seed: 888
ckpt_path: null


paths:
  project_tag: seg_baseline

callbacks:
  model_checkpoint:
    monitor: "val/seg_loss"

data:
  data_dir: ${paths.data_dir_seg}
  motion_dir: ${paths.motion_dir}
  batch_size: 8
  num_workers: 0
  pin_memory: True

trainer:
  min_epochs: 1
  max_epochs: 25
  check_val_every_n_epoch: 1
  devices: 1

model:
  num_points: 4096
  optimizer:
    lr: 1e-4

  net:
    _target_: src.models.components.Seg.SegNetBaseline
    num_points: 4096
    pointNeXt_cfg: /mnt/disk3/zihao/dev/pointnet_tem/model_cfg/pointNext_seg.yaml
    mlp_dim: 256
    use_joint: False
